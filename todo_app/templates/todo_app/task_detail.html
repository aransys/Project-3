{% extends 'todo_app/base.html' %} {% block title %}Task: {{ task.title }}{% endblock %} {% block content %}
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h2 class="mb-0">Task Details</h2>
    <div>
      <a href="{% url 'todo_app:task_list' %}" class="btn btn-outline-secondary"> <i class="bi bi-arrow-left me-2"></i>Back to List </a>
    </div>
  </div>
  <div class="card-body">
    <h3 class="card-title {% if task.completed %}completed{% endif %}">{{ task.title }}</h3>

    <div class="mb-3">
      <strong>Status:</strong>
      {% if task.completed %}
      <span class="badge bg-success"> <i class="bi bi-check-circle me-1"></i>Completed </span>
      {% else %}
      <span class="badge bg-warning"> <i class="bi bi-clock me-1"></i>Pending </span>
      {% endif %}
    </div>

    {% if task.description %}
    <div class="mb-3">
      <strong>Description:</strong>
      <p class="mt-2">{{ task.description|linebreaks }}</p>
    </div>
    {% endif %}

    <div class="mb-3"><strong>Created:</strong> {{ task.created_at|date:"F d, Y at g:i A" }}</div>

    {% if task.due_date %}
    <div class="mb-3">
      <strong>Due Date:</strong>
      <span class="{% if task.is_overdue %}text-danger{% endif %}">
        {{ task.due_date|date:"F d, Y" }} {% if task.is_overdue %}
        <span class="badge bg-danger ms-2">Overdue</span>
        {% endif %}
      </span>
    </div>
    {% endif %}

    <!-- Action buttons -->
    <div class="mt-4 d-flex gap-2">
      <a href="{% url 'todo_app:task_update' task.pk %}" class="btn btn-primary"> <i class="bi bi-pencil me-2"></i>Edit Task </a>

      <form method="post" action="{% url 'todo_app:toggle_complete' task.pk %}" class="d-inline">
        {% csrf_token %} {% if task.completed %}
        <button type="submit" class="btn btn-warning"><i class="bi bi-arrow-counterclockwise me-2"></i>Mark as Incomplete</button>
        {% else %}
        <button type="submit" class="btn btn-success"><i class="bi bi-check-circle me-2"></i>Mark as Complete</button>
        {% endif %}
      </form>

      <a href="{% url 'todo_app:task_delete' task.pk %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this task?');"> <i class="bi bi-trash me-2"></i>Delete </a>
    </div>
  </div>
</div>
{% endblock %}
